# ==============================
# Airflow configurations
# ==============================
# Airflow UID (run 'id -u' on Linux/macOS to get your user ID)
AIRFLOW_UID=50000
# Airflow database
AIRFLOW_POSTGRES_USER=airflow
AIRFLOW_POSTGRES_PASSWORD=airflow
AIRFLOW_POSTGRES_DB=airflow
AIRFLOW_POSTGRES_PORT=5434
# Airflow web UI credentials
AIRFLOW_WWW_USER_USERNAME=airflow
AIRFLOW_WWW_USER_PASSWORD=airflow
# Airflow ports
AIRFLOW_WEBSERVER_PORT=8080
AIRFLOW_FLOWER_PORT=5555
# Additional pip requirements (leave empty for production, use for quick tests only)
_PIP_ADDITIONAL_REQUIREMENTS=

# ==============================
# PostgreSQL db configurations
# ==============================
# Accidents database
ACCIDENTS_POSTGRES_USER=postgres
ACCIDENTS_POSTGRES_PASSWORD=postgres
ACCIDENTS_POSTGRES_DB=accidents_db
ACCIDENTS_POSTGRES_PORT=5432
# MLflow database
MLFLOW_POSTGRES_USER=mlflow_user
MLFLOW_POSTGRES_PASSWORD=mlflow_password
MLFLOW_POSTGRES_DB=mlflow_db
MLFLOW_POSTGRES_PORT=5433

# ==============================
# MinIO configurations
# ==============================
MINIO_ROOT_USER=minio_user
MINIO_ROOT_PASSWORD=minio_password
MINIO_BUCKET_NAME=mlflow
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# ==============================
# MLflow configurations
# ==============================
MLFLOW_BACKEND_STORE_URI=postgresql://${MLFLOW_POSTGRES_USER}:${MLFLOW_POSTGRES_PASSWORD}@mlflow_db:5432/${MLFLOW_POSTGRES_DB}
MLFLOW_ARTIFACTS_DESTINATION=s3://${MINIO_BUCKET_NAME}
# S3 endpoint for MLflow container (uses Docker network hostname with hyphen for DNS compatibility)
MLFLOW_S3_ENDPOINT_URL=http://mlflow-minio:9000
MLFLOW_PORT=5001

# ==============================
# Data ingestion configuration
# ==============================
DATASET_NAME=ahmedlahlou/accidents-in-france-from-2005
RAW_DATA_PATH=data/raw/

# ==============================
# Monitoring configurations
# ==============================
# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ==============================
# API security - OAuth2 
# ==============================

SECRET_KEY=change-me-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60


# ==============================
# Monitoring configurations
# ==============================
# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin